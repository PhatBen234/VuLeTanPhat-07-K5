{"version":3,"sources":["assets/Day6/Script/Bai1.js"],"names":["cc","Class","Component","properties","timeLabel","Label","onLoad","fetchServerTime","fetch","window","location","href","method","response","serverDate","headers","get","Error","timeStr","Date","toISOString","string","error","message","localTime"],"mappings":";;;;;;+CACA;;;;;;AADAA,EAAE,CAACC,KAAH,CAAS;EACP,WAASD,EAAE,CAACE,SADL;EAGPC,UAAU,EAAE;IACVC,SAAS,EAAEJ,EAAE,CAACK;EADJ,CAHL;EAOPC,MAPO,oBAOE;IACP,KAAKC,eAAL,GADO,CACiB;EACzB,CATM;EAWDA,eAXC,6BAWiB;IAAA;;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,OAEGC,KAAK,CAACC,MAAM,CAACC,QAAP,CAAgBC,IAAjB,EAAuB;gBAAE;gBACnDC,MAAM,EAAE,MADyC,CAClC;;cADkC,CAAvB,CAFR;;YAAA;cAEdC,QAFc;cAMdC,UANc,GAMDD,QAAQ,CAACE,OAAT,CAAiBC,GAAjB,CAAqB,MAArB,CANC,EAM6B;;cAN7B,IAQfF,UARe;gBAAA;gBAAA;cAAA;;cAAA,MASZ,IAAIG,KAAJ,CAAU,qCAAV,CATY;;YAAA;cAYdC,OAZc,GAYJ,IAAIC,IAAJ,CAASL,UAAT,EAAqBM,WAArB,EAZI,EAYgC;;cACpD,KAAI,CAAChB,SAAL,CAAeiB,MAAf,GAAwB,qBAAqBH,OAA7C;cAboB;cAAA;;YAAA;cAAA;cAAA;cAcN;cACdlB,EAAE,CAACsB,KAAH,CAAS,iCAAT,EAA4C,YAAIC,OAAhD;cACMC,SAhBc,GAgBF,IAAIL,IAAJ,GAAWC,WAAX,EAhBE;cAiBpB,KAAI,CAAChB,SAAL,CAAeiB,MAAf,GAAwB,oBAAoBG,SAA5C;;YAjBoB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAmBvB;AA9BM,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  properties: {\n    timeLabel: cc.Label,  \n  },\n\n  onLoad() {\n    this.fetchServerTime(); //goi qua trinh lay thoi gian ngay khi node vua chay\n  },\n\n  async fetchServerTime() { // xai async thi xai dc await ben trong\n    try {\n      const response = await fetch(window.location.href, { //fetch, tuc gui http rq toi dia chi trang hien tai, \n        method: 'HEAD',//nhung chi can HEAD, k can noi dung trang\n      });\n\n      const serverDate = response.headers.get(\"Date\"); // lay gia tri header tu Date\n\n      if (!serverDate) {\n        throw new Error(\"Kh√¥ng l·∫•y ƒë∆∞·ª£c th·ªùi gian t·ª´ header.\");// k co date xu ly loi o catch\n      }\n\n      const timeStr = new Date(serverDate).toISOString(); //convert string thanh date\n      this.timeLabel.string = \"üïí Server Time: \" + timeStr;\n    } catch (err) { // neu co loi bat loi~\n      cc.error(\"‚ùå L·ªói khi l·∫•y th·ªùi gian server:\", err.message);\n      const localTime = new Date().toISOString();\n      this.timeLabel.string = \"üïí Local Time: \" + localTime;\n    }\n  },\n});\n"]}