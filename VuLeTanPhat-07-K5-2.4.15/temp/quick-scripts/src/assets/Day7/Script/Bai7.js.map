{"version":3,"sources":["assets/Day7/Script/Bai7.js"],"names":["cc","Class","Component","properties","logLabel","Label","start","lazyMan","LazyMan","eat","sleep","name","label","queue","sayName","_run","_log","message","log","string","push","Promise","resolve","food","ms","setTimeout","action"],"mappings":";;;;;;+CACA;;;;;;;;;;;;AADAA,EAAE,CAACC,KAAH,CAAS;EACP,WAASD,EAAE,CAACE,SADL;EAGPC,UAAU,EAAE;IACVC,QAAQ,EAAEJ,EAAE,CAACK,KADH,CACU;;EADV,CAHL;EAOPC,KAPO,mBAOC;IACN;IACA,IAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY,MAAZ,EAAoB,KAAKJ,QAAzB,CAAhB;IACAG,OAAO,CACJE,GADH,CACO,OADP,EAEGC,KAFH,CAES,IAFT,EAGGD,GAHH,CAGO,WAHP,EAIGC,KAJH,CAIS,IAJT,EAKGD,GALH,CAKO,MALP;EAMD;AAhBM,CAAT;;IAmBMD;EACJ,iBAAYG,IAAZ,EAAkBC,KAAlB,EAAyB;IACvB,KAAKC,KAAL,GAAa,EAAb;IACA,KAAKD,KAAL,GAAaA,KAAb,CAFuB,CAEH;;IACpB,KAAKE,OAAL,CAAaH,IAAb;;IACA,KAAKI,IAAL,GAJuB,CAIV;;EACd;;;;SAEDC,OAAA,cAAKC,OAAL,EAAc;IACZjB,EAAE,CAACkB,GAAH,CAAOD,OAAP;;IACA,IAAI,KAAKL,KAAT,EAAgB;MACd,KAAKA,KAAL,CAAWO,MAAX,IAAqBF,OAAO,GAAG,IAA/B;IACD;EACF;;SAEDH,UAAA,iBAAQH,IAAR,EAAc;IAAA;;IACZ,KAAKE,KAAL,CAAWO,IAAX,CAAgB,YAAM;MACpB,KAAI,CAACJ,IAAL,iBAAwBL,IAAxB;;MACA,OAAOU,OAAO,CAACC,OAAR,EAAP;IACD,CAHD;EAID;;SAEDb,MAAA,aAAIc,IAAJ,EAAU;IAAA;;IACR,KAAKV,KAAL,CAAWO,IAAX,CAAgB,YAAM;MACpB,MAAI,CAACJ,IAAL,kBAAyBO,IAAzB;;MACA,OAAOF,OAAO,CAACC,OAAR,EAAP;IACD,CAHD;IAIA,OAAO,IAAP;EACD;;SAEDZ,QAAA,eAAMc,EAAN,EAAU;IAAA;;IACR,KAAKX,KAAL,CAAWO,IAAX,CAAgB,YAAM;MACpB,MAAI,CAACJ,IAAL;;MACA,OAAO,IAAIK,OAAJ,CAAY,UAAAC,OAAO,EAAI;QAC5BG,UAAU,CAAC,YAAM;UACf,MAAI,CAACT,IAAL,YAAmBQ,EAAE,GAAG,IAAxB;;UACAF,OAAO;QACR,CAHS,EAGPE,EAHO,CAAV;MAID,CALM,CAAP;IAMD,CARD;IASA,OAAO,IAAP;EACD;;SAEKT;2EAAN;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA,4CACuB,KAAKF,KAD5B;;YAAA;cAAA;gBAAA;gBAAA;cAAA;;cACaa,MADb;cAAA;cAAA,OAEUA,MAAM,EAFhB;;YAAA;cAAA;cAAA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA","sourceRoot":"/","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  properties: {\n    logLabel: cc.Label, // kéo node Label vào đây\n  },\n\n  start() {\n    // Truyền label xuống LazyMan để in ra\n    const lazyMan = new LazyMan('jack', this.logLabel);\n    lazyMan\n      .eat('apple')\n      .sleep(5000)\n      .eat('hamburger')\n      .sleep(3000)\n      .eat('pear');\n  },\n});\n\nclass LazyMan {\n  constructor(name, label) {\n    this.queue = [];\n    this.label = label; // giữ tham chiếu label\n    this.sayName(name);\n    this._run(); // bắt đầu thực thi hàng đợi\n  }\n\n  _log(message) {\n    cc.log(message);\n    if (this.label) {\n      this.label.string += message + '\\n';\n    }\n  }\n\n  sayName(name) {\n    this.queue.push(() => {\n      this._log(`My name is ${name}`);\n      return Promise.resolve();\n    });\n  }\n\n  eat(food) {\n    this.queue.push(() => {\n      this._log(`I am eating ${food}`);\n      return Promise.resolve();\n    });\n    return this;\n  }\n\n  sleep(ms) {\n    this.queue.push(() => {\n      this._log(`I am sleeping...`);\n      return new Promise(resolve => {\n        setTimeout(() => {\n          this._log(`After ${ms / 1000} seconds`);\n          resolve();\n        }, ms);\n      });\n    });\n    return this;\n  }\n\n  async _run() {\n    for (const action of this.queue) {\n      await action();\n    }\n  }\n}\n"]}