{"version":3,"sources":["assets/Day7/Script/Bai3.js"],"names":["cc","Class","Component","properties","displaySprite","Sprite","start","imageUrls","downloadImagesSequentially","urls","i","length","log","downloadImage","texture","spriteFrame","SpriteFrame","delay","error","url","Promise","resolve","reject","loader","load","type","err","ms","setTimeout"],"mappings":";;;;;;+CACA;;;;;;AADAA,EAAE,CAACC,KAAH,CAAS;EACP,WAASD,EAAE,CAACE,SADL;EAGPC,UAAU,EAAE;IACVC,aAAa,EAAEJ,EAAE,CAACK,MADR,CACgB;;EADhB,CAHL;EAOPC,KAPO,mBAOC;IACN,KAAKC,SAAL,GAAiB,CACf,kGADe,EAEf,kGAFe,EAGf,kGAHe,EAIf,kGAJe,CAAjB;IAOA,KAAKC,0BAAL,CAAgC,KAAKD,SAArC;EACD,CAhBM;EAkBDC,0BAlBC,sCAkB0BC,IAlB1B,EAkBgC;IAAA;;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAC5BC,CAD4B,GACxB,CADwB;;YAAA;cAAA,MACrBA,CAAC,GAAGD,IAAI,CAACE,MADY;gBAAA;gBAAA;cAAA;;cAAA;cAGjCX,EAAE,CAACY,GAAH,mCAAuBF,CAAC,GAAG,CAA3B,UAAgCD,IAAI,CAACE,MAArC,EAHiC,CAGe;;cAHf;cAAA,OAIX,KAAI,CAACE,aAAL,CAAmBJ,IAAI,CAACC,CAAD,CAAvB,CAJW;;YAAA;cAI3BI,OAJ2B;cAIkB;cACnD,KAAI,CAACV,aAAL,CAAmBW,WAAnB,GAAiC,IAAIf,EAAE,CAACgB,WAAP,CAAmBF,OAAnB,CAAjC,CALiC,CAK6B;;cAC9Dd,EAAE,CAACY,GAAH,8CAA0BF,CAAC,GAAG,CAA9B;cANiC;cAAA,OAO3B,KAAI,CAACO,KAAL,CAAW,IAAX,CAP2B;;YAAA;cAAA;cAAA;;YAAA;cAAA;cAAA;cASjCjB,EAAE,CAACkB,KAAH,sCAA4BR,CAAC,GAAG,CAAhC;;YATiC;cACJA,CAAC,EADG;cAAA;cAAA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAYtC,CA9BM;EAgCPG,aAhCO,yBAgCOM,GAhCP,EAgCY;IACjB,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;MACtCtB,EAAE,CAACuB,MAAH,CAAUC,IAAV,CAAe;QAAEL,GAAG,EAAEA,GAAP;QAAYM,IAAI,EAAE;MAAlB,CAAf,EAA0C,UAACC,GAAD,EAAMZ,OAAN,EAAkB;QAC1D,IAAIY,GAAJ,EAAS;UACPJ,MAAM,CAACI,GAAD,CAAN,CADO,CACM;QACd,CAFD,MAEO;UACLL,OAAO,CAACP,OAAD,CAAP,CADK,CACa;QACnB;MACF,CAND;IAOD,CARM,CAAP;EASD,CA1CM;EA4CPG,KA5CO,iBA4CDU,EA5CC,EA4CG;IAAC;IACT,OAAO,IAAIP,OAAJ,CAAY,UAAAC,OAAO;MAAA,OAAIO,UAAU,CAACP,OAAD,EAAUM,EAAV,CAAd;IAAA,CAAnB,CAAP;EACD;AA9CM,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n  extends: cc.Component,\n\n  properties: {\n    displaySprite: cc.Sprite, // Sprite để hiển thị ảnh\n  },\n\n  start() {\n    this.imageUrls = [\n      'https://fastly.picsum.photos/id/0/5000/3333.jpg?hmac=_j6ghY5fCfSD6tvtcV74zXivkJSPIfR9B8w34XeQmvU',\n      'https://fastly.picsum.photos/id/1/5000/3333.jpg?hmac=Asv2DU3rA_5D1xSe22xZK47WEAN0wjWeFOhzd13ujW4',\n      'https://fastly.picsum.photos/id/2/5000/3333.jpg?hmac=_KDkqQVttXw_nM-RyJfLImIbafFrqLsuGO5YuHqD-qQ',\n      'https://fastly.picsum.photos/id/3/5000/3333.jpg?hmac=GDjZ2uNWE3V59PkdDaOzTOuV3tPWWxJSf4fNcxu4S2g',\n    ];\n\n    this.downloadImagesSequentially(this.imageUrls);\n  },\n\n  async downloadImagesSequentially(urls) {\n    for (let i = 0; i < urls.length; i++) { // vong lap chay qua tung URL trong mang\n      try {\n        cc.log(`Đang tải ảnh ${i + 1}/${urls.length}`); //ghi log anh thu may/ tong? dc tai?\n        const texture = await this.downloadImage(urls[i]); // goi ham dowloadImage o duoi de tai anh\n        this.displaySprite.spriteFrame = new cc.SpriteFrame(texture); // gan vo spriteframe de tai hinh\n        cc.log(`Đã hiển thị ảnh ${i + 1}`);\n        await this.delay(2000); // Delay 2 giây moi tai anh tiep theo\n      } catch (error) {\n        cc.error(`Lỗi khi tải ảnh ${i + 1}:`, error);\n      }\n    }\n  },\n\n  downloadImage(url) {\n    return new Promise((resolve, reject) => {\n      cc.loader.load({ url: url, type: 'jpg' }, (err, texture) => {\n        if (err) {\n          reject(err); // that bai\n        } else {\n          resolve(texture); // tra ve textture neu thanh cong\n        }\n      });\n    });\n  },\n\n  delay(ms) {// delay bang promise\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n});\n"]}